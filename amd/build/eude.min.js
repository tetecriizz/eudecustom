define(["jquery","jqueryui","local_eudecustom/datatables","local_eudecustom/datatables_buttons","core/modal_factory"],function(a,b){function c(b,c){"00"==c?(a("#result00").css("display","block"),a("#result01").css("display","none"),a("#result02").css("display","none")):"01"==c||"10"==c||"11"==c?(a("#result00").css("display","none"),a("#result01").css("display","block"),a("#result02").css("display","none")):(a("#result00").css("display","none"),a("#result01").css("display","none"),a("#result02").css("display","block"));var d=new Date,e=d.getMonth()+1,f=d.getDate(),g=((""+f).length<2?"0":"")+f,h=((""+e).length<2?"0":"")+e,i=d.getFullYear(),j=g+"/"+h+"/"+i;a("#eudecustom-spenttime").text(j),a("#eudecustom-updateresult").css("display","none")}return{message:function(){a("#menucategoryname").change(function(){a("#menucategoryname option:selected").each(function(){var b=a("#menucategoryname").val();a("#menucoursename").empty(),a("#menucoursename").append("<option value=''>-- Módulo --</option>"),a("#menudestinatarioname").empty(),a("#menudestinatarioname").append("<option value=''>-- Destinatario --</option>"),a.ajax({data:"catId :"+b,url:"eudemessagesrequest.php?messagecat="+b,type:"get",success:function(b,c,d){try{a("#menucoursename").append(b)}catch(a){window.console.log(a.message),window.console.log(c),window.console.log(d)}},error:function(a,b,c){window.console.log(a.responseText),window.console.log(b),window.console.log(c)}})})}),a("#menucoursename").change(function(){a("#menucoursename option:selected").each(function(){var b=a("#menucoursename").val();a("#menudestinatarioname").empty(),a("#menudestinatarioname").append("<option value=''>-- Destinatario --</option>"),a.ajax({data:"catId :"+b,url:"eudemessagesrequest.php?messagecourse="+b,type:"get",success:function(b,c,d){try{a("#menudestinatarioname").append(b)}catch(a){window.console.log(a.message),window.console.log(c),window.console.log(d)}},error:function(a,b,c){window.console.log(a.responseText),window.console.log(b),window.console.log(c)}})})})},matriculation:function(){var b={closeText:"Cerrar",prevText:"<Ant",nextText:"Sig>",currentText:"Hoy",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],dayNamesShort:["Dom","Lun","Mar","Mié","Juv","Vie","Sáb"],dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","Sá"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};a.datepicker.regional.es=b,a.datepicker.setDefaults(a.datepicker.regional.es),a(".date1").first().change(function(){if(window.confirm("¿Calcular las fechas siguientes automáticamente?")){var b=new Date(a(this).datepicker("getDate")),c=new Date(b.getFullYear(),b.getMonth(),b.getDate()+7),d=new Date(c.getFullYear(),c.getMonth(),c.getDate()+7),e=new Date(d.getFullYear(),d.getMonth(),d.getDate()+7),f=2;a(".date1").not(":first").each(function(){switch(f){case 1:a(this).datepicker("setDate",b),f++;break;case 2:a(this).datepicker("setDate",c),f++;break;case 3:a(this).datepicker("setDate",d),f++;break;case 4:a(this).datepicker("setDate",e),f=1}})}}),a(".date2").first().change(function(){if(window.confirm("¿Calcular las fechas siguientes automáticamente?")){var b=new Date(a(this).datepicker("getDate")),c=new Date(b.getFullYear(),b.getMonth(),b.getDate()+7),d=new Date(c.getFullYear(),c.getMonth(),c.getDate()+7),e=new Date(d.getFullYear(),d.getMonth(),d.getDate()+7),f=2;a(".date2").not(":first").each(function(){switch(f){case 1:a(this).datepicker("setDate",b),f++;break;case 2:a(this).datepicker("setDate",c),f++;break;case 3:a(this).datepicker("setDate",d),f++;break;case 4:a(this).datepicker("setDate",e),f=1}})}}),a(".date3").first().change(function(){if(window.confirm("¿Calcular las fechas siguientes automáticamente?")){var b=new Date(a(this).datepicker("getDate")),c=new Date(b.getFullYear(),b.getMonth(),b.getDate()+7),d=new Date(c.getFullYear(),c.getMonth(),c.getDate()+7),e=new Date(d.getFullYear(),d.getMonth(),d.getDate()+7),f=2;a(".date3").not(":first").each(function(){switch(f){case 1:a(this).datepicker("setDate",b),f++;break;case 2:a(this).datepicker("setDate",c),f++;break;case 3:a(this).datepicker("setDate",d),f++;break;case 4:a(this).datepicker("setDate",e),f=1}})}}),a(".date4").first().change(function(){if(window.confirm("¿Calcular las fechas siguientes automáticamente?")){var b=new Date(a(this).datepicker("getDate")),c=new Date(b.getFullYear(),b.getMonth(),b.getDate()+7),d=new Date(c.getFullYear(),c.getMonth(),c.getDate()+7),e=new Date(d.getFullYear(),d.getMonth(),d.getDate()+7),f=2;a(".date4").not(":first").each(function(){switch(f){case 1:a(this).datepicker("setDate",b),f++;break;case 2:a(this).datepicker("setDate",c),f++;break;case 3:a(this).datepicker("setDate",d),f++;break;case 4:a(this).datepicker("setDate",e),f=1}})}}),a(".inputdate").datepicker({dateFormat:"dd/mm/yy"}).val(),a(".inputdate").each(function(){var b=new Date(a(this).datepicker("getDate")),c=new Date(a(this).datepicker("option","minDate"));b.getFullYear()==c.getFullYear()&&b.getMonth()==c.getMonth()&&b.getDate()==c.getDate()&&a(this).datepicker("setDate",null)}),a("#resetfechas").click(function(b){b.preventDefault(),a(".inputdate").each(function(){a(this).datepicker("setDate",null)})}),a("#savedates").click(function(b){var c=!1;if(a(".inputdate").each(function(){a(this).val()||(c=!0);var b=a(this).val(),d=b.replace(new RegExp("/","g"),"-");a(this).val(d)}),c){b.preventDefault();window.alert("Hay campos incorrectos. Rellene correctamente todos los campos")}})},academic:function(){a("#menucoursename").hide(),a("#menustudentname").hide(),a("#usergrades").hide(),a("#menucategoryname").change(function(){a("#menucategoryname option:selected").each(function(){var b=a("#menucategoryname").val();a("#menucoursename").empty(),a("#menucoursename").append("<option value=''>-- Módulo --</option>"),a(this).val()?a("#menucoursename").show():a("#menucoursename").hide(),a("#menustudentname").empty(),a("#menustudentname").append("<option value=''>-- Alumno --</option>"),a("#menustudentname").hide(),a("#usergrades").hide(),a.ajax({data:"catId :"+b,url:"eudegradesearchrequest.php?cat="+b,type:"get",success:function(b,c,d){try{a("#menucoursename").append(b)}catch(a){window.console.log(a.message),window.console.log(c),window.console.log(d)}},error:function(a,b,c){window.console.log(a.responseText),window.console.log(b),window.console.log(c)}})})}),a("#menucoursename").change(function(){a("#menustudentname").show(),a("#usergrades").hide(),a("#menucoursename option:selected").each(function(){a(this).val()?a("#menustudentname").show():a("#menustudentname").hide(),a("#menustudentname").empty(),a("#menustudentname").append("<option value=''>-- Alumno --</option>");var b=a("#menucoursename").val();a.ajax({data:"courseId :"+b,url:"eudegradesearchrequest.php?course="+b,type:"get",success:function(b,c,d){try{a("#menustudentname").append(b)}catch(a){window.console.log(a.message),window.console.log(c),window.console.log(d)}},error:function(a,b,c){window.console.log(a.responseText),window.console.log(b),window.console.log(c)}})})}),a("#menustudentname").change(function(){a("#usergrades").show(),a(this).val()||a("#usergrades").hide(),a("#menustudentname option:selected").each(function(){var b=a("#menustudentname").val(),c="../../grade/report/user/index.php?userid="+b+"&id="+a("#menucoursename").val();a("#usergrades").attr("href",c)})})},calendar:function(){a("#modalwindowforprint").empty(),a("#openmodalwindowforprint").click(function(){a("#modalwindowforprint").empty(),a.ajax({url:"eudecalendarmodalwindow.php",type:"get",success:function(b,c,d){try{a("#modalwindowforprint").append(b),a("#closemodalwindowbutton").click(function(){a("#modalwindowforprint").empty()});var e={closeText:"Cerrar",prevText:"<Ant",nextText:"Sig>",currentText:"Hoy",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],dayNamesShort:["Dom","Lun","Mar","Mié","Juv","Vie","Sáb"],dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","Sá"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};a.datepicker.regional.es=e,a.datepicker.setDefaults(a.datepicker.regional.es),a(".inputdate").datepicker({dateFormat:"dd/mm/yy"}).val()}catch(a){window.console.log(a.message),window.console.log(c),window.console.log(d)}},error:function(a,b,c){window.console.log(a.responseText),window.console.log(b),window.console.log(c)}})}),a(".cb-eventkey").each(function(){a(this).click(function(){var b=a(this).prop("name");a(this).prop("checked")?a("div."+b).each(function(){a(this).removeClass("disabled"+b)}):a("div."+b).each(function(){a(this).addClass("disabled"+b)})})}),a("div.hasevent").each(function(){var b=a(this).attr("class");b.includes("eudeevent")&&a(this).parent().find("div[name='eudeglobalevent']").append(a(this)),b.includes("intensivemodulebegin")&&a(this).parent().find("div[name='intensivecourse']").append(a(this)),b.includes("testdate")&&a(this).parent().find("div[name='testsubmission']").append(a(this)),b.includes("questionnairedate")&&a(this).parent().find("div[name='questionnairedate']").append(a(this)),b.includes("activityend")&&a(this).parent().find("div[name='activitysubmission']").append(a(this)),b.includes("modulebegin")&&a(this).parent().find("div[name='normalcourse']").append(a(this))}),a("div.hasevent").on("mouseenter",function(){var b="<div class='uep-wrap modal-dialog modal show modal-dialog modal-content eudecalendarpopup'>";b+="<div class='uep-header header modal-header'>",b+="<h3 class='modal-title' style='padding: 5px;'>Info</h3>",b+="</div>",b+="<div class='uep-content modal-body'>",b+=a(this).attr("data-core_calendar-popupcontent"),b+="</div>",b+="</div>",a(this).append(b)}),a("div.hasevent").on("mouseleave",function(){a(this).find(".eudecalendarpopup").remove()})},eventlist:function(){a("#printeventbutton").click(function(){a(".datepickerwrapper").hide(),a("#generateeventlist").hide(),a("#printeventbutton").hide(),a("#page-footer").hide(),a("#moodle-footer").hide(),a("#mr-nav").hide(),window.print(),a(".contentwrapper").show(),a("#printeventbutton").show(),a("#page-footer").show(),a("#moodle-footer").show(),a("#mr-nav").show()});var b={closeText:"Cerrar",prevText:"<Ant",nextText:"Sig>",currentText:"Hoy",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],dayNamesShort:["Dom","Lun","Mar","Mié","Juv","Vie","Sáb"],dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","Sá"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};a.datepicker.regional.es=b,a.datepicker.setDefaults(a.datepicker.regional.es),a(".inputdate").datepicker({dateFormat:"dd/mm/yy"}).val(),a("#generateeventlist").click(function(b){var c=!1;if(a(".inputdate").each(function(){a(this).val()||(c=!0)}),c){b.preventDefault();window.alert("Hay campos incorrectos. Rellene correctamente todos los campos")}})},profile:function(){function b(){var b;a(".letpv_abrir").click(function(){var c=a(this).attr("id"),d=a("#hiddenuserid").attr("value");b=c.substring(c.indexOf("(")+1,c.indexOf(","));var e=c.substring(c.indexOf(",")+1,c.lastIndexOf(",")),f=c.substring(c.lastIndexOf(",")+1,c.indexOf(")"));a("#letpv_ventana-flotante").css("display","block"),a.ajax({data:"idcourse="+b,url:"eudemodaladvise.php?studentid="+d,type:"post",success:function(c,g,h){try{a("#letpv_ventana-flotante").html(c),a("button.letpv_cerrar").click(function(){a("#letpv_ventana-flotante").css("display","none")}),a("#letpv_course").attr("value",b),a("input.letpv_btn").attr("id","abrirFechas("+b+","+e+","+f+")"),a("input.letpv_btn").click(function(){a("#letpv_ventana-flotante").css("display","block"),a.ajax({data:"idcourse="+b,url:"eudemodaldates.php?studentid="+d,type:"post",success:function(c){a("#letpv_ventana-flotante").html(c),a("button.letpv_cerrar").click(function(){a("#letpv_ventana-flotante").css("display","none")}),a("#letpv_course").attr("value",b)}})})}catch(a){window.console.log(a.message),window.console.log(g),window.console.log(h)}},error:function(a,b,c){window.console.log(a.responseText),window.console.log(b),window.console.log(c)}})}),a(".abrirFechas").click(function(){var b,c=a(this).attr("id");b=c.substring(c.indexOf("(")+1,c.indexOf(","));var d=c.substring(c.indexOf(",")+1,c.lastIndexOf(","));a("#letpv_ventana-flotante").css("display","block"),a.ajax({data:"idcourse="+b,url:"eudemodaldates.php",type:"post",success:function(c,e,f){try{a("#letpv_ventana-flotante").html(c),a("button.letpv_cerrar").click(function(){a("#letpv_ventana-flotante").css("display","none")}),a("#letpv_course").attr("value",b);for(var g=a("input#letpv_course").val(),h=a(".letpv_mod"+g+" .c1 span").text(),i=a("select#menuletpv_date").children().length,j=1;j<=i;j++){h==a("select#menuletpv_date option:nth-child("+j+")").text()&&a("select#menuletpv_date option:nth-child("+j+")").attr("selected","selected")}1==d?a("#letpv_amount").attr("value","0"):2==d&&a("form#fechas").attr("action","eudeprofile.php")}catch(a){window.console.log(a.message),window.console.log(e),window.console.log(f)}},error:function(a,b,c){window.console.log(a.responseText),window.console.log(b),window.console.log(c)}})})}b(),a("#menucategoryname").change(function(){var c=a("#menucategoryname").val(),d=a("#menucategoryname").children().last().val();if(0!==c)for(var e=0;e<=d;e++)e!=c?a(".letpv_cat"+e).css("display","none"):a(".letpv_cat"+e).css("display","table-row");else for(var f=0;f<d;f++)a(".letpv_cat"+f).css("display","table-row");var g=a("#menucategoryname").val();a.ajax({data:"catId="+g,url:"eudeprofilerequest.php?profilecat="+g,type:"post",success:function(c,d,e){try{window.console.log(c),a("#letpv_student").empty(),a("#letpv_student").append(c.student),a("#letpv_tablecontainer").empty(),a("#letpv_tablecontainer").append(c.table),b()}catch(a){window.console.log(a.message),window.console.log(d),window.console.log(e)}},error:function(a,b,c){window.console.log(a.responseText),window.console.log(b),window.console.log(c)}})}),a("#letpv_student").change(function(){a("#letpv_student option:selected").each(function(){var c=a("#menucategoryname").val(),d=a(this).val(),e="<div class='row' style='display: block;text-align: center;margin-top: 100px'>";e+="<i class='fa fa-spinner fa-spin' style='font-size:120px;color:#6F1A3D'></i></div>",a("#letpv_tablecontainer").append(e),a.ajax({data:"catId="+c,url:"eudeprofilerequest.php?profilecat="+c+"&profilestudent="+d,type:"post",success:function(c,d,e){try{a("#letpv_tablecontainer").empty(),a("#letpv_tablecontainer").append(c),b()}catch(a){window.console.log(a.message),window.console.log(d),window.console.log(e)}},error:function(a,b,c){window.console.log(a.responseText),window.console.log(b),window.console.log(c)}})})});for(var c=a("#categoryselect").text(),d=a("#menucategoryname option").length,e=0;e<=d;e++)c==a("#menucategoryname option:nth-child("+e+")").text()&&a("#menucategoryname option:nth-child("+e+")").attr("selected","selected");var f=a("#menucategoryname").val(),g=a("#menucategoryname").children().last().val();if(0!==f)for(var e=0;e<=g;e++)e!=f?a(".letpv_cat"+e).css("display","none"):a(".letpv_cat"+e).css("display","table-row");else for(var h=0;h<g;h++)a(".letpv_cat"+h).css("display","table-row");a.ajax({data:"catId="+f,url:"eudeprofilerequest.php?profilecat="+f,type:"post",success:function(c,d,e){try{window.console.log(c),a("#letpv_tablecontainer").empty(),a("#letpv_tablecontainer").append(c.table),b()}catch(a){window.console.log(a.message),window.console.log(d),window.console.log(e)}},error:function(a,b,c){window.console.log(a.responseText),window.console.log(b),window.console.log(c)}})},redirect:function(){a(".linkselect").change(function(){var b=a(this).attr("course"),c=a(this).attr("notice");switch(a(this).val()){case"1":window.location.href="../../mod/forum/view.php?f="+c;break;case"2":window.location.href="../../mod/forum/index.php?id="+b;break;case"3":window.location.href="../../mod/assign/index.php?id="+b}})},menu:function(){a(document).ready(function(){var b=window.location.href,c=b.split("?"),d=window.location.pathname;"/local/eudecustom/eudeprofile.php"!=d&&"/local/eudecustom/eudegradesearch.php"!=d||a(".menulateral .icon-menu a:nth-child(2) li").addClass("selected"),"/local/eudecustom/eudeteachercontrolpanel.php"!=d&&"/grade/report/overview/index.php"!=d||a(".menulateral .icon-menu a:nth-child(3) li").addClass("selected");for(var e=2;e<8;e++){var f=a(".menulateral .icon-menu a:nth-child("+e+")").attr("href"),g=f.split("?");c[0]==g[0]&&a(".menulateral .icon-menu a:nth-child("+e+") li").addClass("selected")}})},payment:function(){a(document).ready(function(){a("body").css("display","none"),a("#id_submitbutton").click()})},dashboard:function(){a(document).ready(function(){var b="local_eudecustom_datatable",c=a("#"+b).DataTable({initComplete:function(){this.api().columns(".mustfilter").every(function(){var b=this,c=a('<select><option value=""></option></select>').appendTo(a(b.footer()).empty()).on("change",function(){var c=a.fn.dataTable.util.escapeRegex(a(this).val());b.search(c?"^"+c+"$":"",!0,!1).draw()});b.data().unique().sort().each(function(a,b){c.append('<option value="'+a+'">'+a+"</option>")})})}});a("#"+b+" tr").click(function(){var b=a(this).find("a").attr("href");b&&(window.location=b)}),a("#eude-reportbtn").on("click",function(){var a=c.buttons.exportData({columns:":visible",format:{header:function(a,b){return b+": "+a}}}),b="";a.header.pop();var d='"'+a.header.join('","')+'"';for(b+=d+"\n",i=0;i<a.body.length;i++)a.body[i].pop(),cols='"'+a.body[i].join('","')+'"',b+=cols+"\n";var e=new Blob([b],{type:"text/csv;charset=utf-8;"}),f=URL.createObjectURL(e),g=document.createElement("a");g.setAttribute("href",f),g.setAttribute("download","report_data.csv"),document.body.appendChild(g),g.click()}),a("button.dashboardbtntotal").on("click",function(){a("div.dashboardcoursebox").show(),a("button.dashboardbtn").removeClass("eudeactive"),a(this).addClass("eudeactive")}),a("button.dashboardbtnincourse").on("click",function(){a("div.dashboardcoursebox").show(),a("div.dashboardcoursebox").not(a("div.dashboardcoursebox.incourse")).hide(),a("button.dashboardbtn").removeClass("eudeactive"),a(this).addClass("eudeactive")}),a("button.dashboardbtnfailed").on("click",function(){a("div.dashboardcoursebox").show(),a("div.dashboardcoursebox").not(a("div.dashboardcoursebox.failed")).hide(),a("button.dashboardbtn").removeClass("eudeactive"),a(this).addClass("eudeactive")}),a("button.dashboardbtnpassed").on("click",function(){a("div.dashboardcoursebox").show(),a("div.dashboardcoursebox").not(a("div.dashboardcoursebox.passed")).hide(),a("button.dashboardbtn").removeClass("eudeactive"),a(this).addClass("eudeactive")}),a("button.dashboardbtnconvalidated").on("click",function(){a("div.dashboardcoursebox").show(),a("div.dashboardcoursebox").not(a("div.dashboardcoursebox.convalidated")).hide(),a("button.dashboardbtn").removeClass("eudeactive"),a(this).addClass("eudeactive")}),a("button.dashboardbtnpending").on("click",function(){a("div.dashboardcoursebox").show(),a("div.dashboardcoursebox").not(a("div.dashboardcoursebox.pending")).hide(),a("button.dashboardbtn").removeClass("eudeactive"),a(this).addClass("eudeactive")}),a("button.dashboardbtnteachertotal").on("click",function(){a("div.dashboardcoursebox").show(),a("button.dashboardbtn").removeClass("eudeactive"),a(this).addClass("eudeactive")}),a("button.dashboardbtnteacherincourse").on("click",function(){a("div.dashboardcoursebox").show(),a("div.dashboardcoursebox").not(a("div.dashboardcoursebox.activestudents")).hide(),a("button.dashboardbtn").removeClass("eudeactive"),a(this).addClass("eudeactive")}),a("button.dashboardbtnteacherpendingactivities").on("click",function(){a("div.dashboardcoursebox").show(),a("div.dashboardcoursebox").not(a("div.dashboardcoursebox.pendingactivities")).hide(),a("button.dashboardbtn").removeClass("eudeactive"),a(this).addClass("eudeactive")}),a("button.dashboardbtnteacherpendingmessages").on("click",function(){a("div.dashboardcoursebox").show(),a("div.dashboardcoursebox").not(a("div.dashboardcoursebox.pendingmessages")).hide(),a("button.dashboardbtn").removeClass("eudeactive"),a(this).addClass("eudeactive")}),a("a.dashboardcourselink").on("click",function(b){a(this).closest("div.dashboardcoursebox.pending").length>0&&b.preventDefault()}),a("a.nav-link").on("click",function(){a("li.nav-item").removeClass("active"),a(this).closest("li.nav-item").addClass("active");var b=a(this).attr("href");a(b).find("button.dashboardbtn.dashboardbtntotal").click()}),a(document).on("show.bs.tab",'.nav-tabs-responsive [data-toggle="tab"]',function(b){var c=a(b.target),d=c.closest(".nav-tabs-responsive"),e=c.closest("li"),f=e.closest("li.dropdown");e=f.length>0?f:e;var g=e.next(),h=e.prev(),i=function(a,b){a.find(".dropdown-menu").removeClass("pull-xs-left pull-xs-center pull-xs-right").addClass("pull-xs-"+b)};d.find(">li").removeClass("next prev"),h.addClass("prev"),g.addClass("next"),i(h,"left"),i(e,"center"),i(g,"right")})})},updatetimespent:function(b){a("#updatespenttime").click(function(){a.ajax({url:M.cfg.wwwroot+"/local/eudecustom/data.php",type:"POST",async:!0,data:{catid:b},dataType:"text",success:function(a,d,e){console.log("aa"),c(b,a),console.log("ab")},error:function(a,d,e){c(b,"02"),console.log(a.responseText),console.log(d),console.log(e)}})})}}});