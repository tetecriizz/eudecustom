define(["jquery","jqueryui","core/modal_factory"],function(a,b){function c(b,c){"00"==c?(a("#result00").css("display","block"),a("#result01").css("display","none"),a("#result02").css("display","none")):"01"==c||"10"==c||"11"==c?(a("#result00").css("display","none"),a("#result01").css("display","block"),a("#result02").css("display","none")):(a("#result00").css("display","none"),a("#result01").css("display","none"),a("#result02").css("display","block"));var d=new Date,e=d.getMonth()+1,f=d.getDate(),g=((""+f).length<2?"0":"")+f,h=((""+e).length<2?"0":"")+e,i=d.getFullYear(),j=g+"/"+h+"/"+i;a("#eudedashboard-spenttime").text(j),a("#eudedashboard-updateresult").css("display","none")}return{dashboard:function(){a(document).ready(function(){function b(){a("#id_catid").change(function(){a(this).closest("form").submit()})}var c="local_eudedashboard_datatable";b(),a("#"+c+":not(.eude-table-categories) tr").click(function(){var b=a(this).find("a").attr("href");b&&(window.location=b)})})},updatetimespent:function(b){a("#updatespenttime").click(function(){a.ajax({url:M.cfg.wwwroot+"/local/eudedashboard/data.php",type:"POST",async:!0,data:{catid:b},dataType:"text",success:function(a,d,e){c(b,a)},error:function(a,d,e){c(b,"02"),console.log(a.responseText),console.log(d),console.log(e)}})})}}});